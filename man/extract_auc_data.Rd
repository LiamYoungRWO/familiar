% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FamiliarDataComputation.R
\name{extract_auc_data}
\alias{extract_auc_data}
\title{Internal function to extract area under the ROC curve information.}
\usage{
extract_auc_data(
  object,
  prediction_data = NULL,
  cl = NULL,
  confidence_level = waiver(),
  message_indent = 0L,
  verbose = FALSE,
  ...
)
}
\arguments{
\item{object}{A \code{familiarEnsemble} object, which is an ensemble of one or more
\code{familiarModel} objects.}

\item{prediction_data}{A table with pre-computed predicted values per sample.
This table is generated by the \code{extract_predictions} method. If
\code{prediction_data} is not provided it will be computed internally.}

\item{cl}{Cluster created using the \code{parallel} package. This cluster is then
used to speed up computation through parallelisation.}

\item{confidence_level}{(\emph{optional}) Numeric value for the level at which
confidence are determined. In the case bootstraps are used to determine the
confidence intervals bootstrap estimation, \code{familiar} uses the rule of thumb
\eqn{n = 20 / ci.level} to determine the number of required bootstraps.

If not provided explicitly, this parameter is read from settings used at
creation of the underlying \code{familiarModel} objects.

#'@param confidence_level (\emph{optional}) Numeric value for the level at which
confidence are determined. In the case bootstraps are used to determine the
confidence intervals bootstrap estimation, \code{familiar} uses the rule of thumb
\eqn{n = 20 / ci.level} to determine the number of required bootstraps.

The default value is \code{0.95}.}

\item{message_indent}{Number of indentation steps for messages shown during
computation and extraction of various data elements.}

\item{verbose}{Flag to indicate whether feedback should be provided on the
computation and extraction of various data elements.}

\item{...}{
  Arguments passed on to \code{\link[=extract_predictions]{extract_predictions}}
  \describe{
    \item{\code{data}}{A \code{dataObject} object, \code{data.table} or \code{data.frame} that
constitutes the data that are used to compute}
    \item{\code{ensemble_method}}{Method for ensembling predictions from models for the
same sample. Available methods are:
\itemize{
\item \code{mean}: Use the mean of the predicted values as the ensemble value for a
sample.
}}
    \item{\code{time_max}}{Time point which is used as the benchmark for e.g. cumulative
risks generated by random forest, or the cutoff for Uno's concordance index.
If not provided explicitly, this parameter is read from settings used at
creation of the underlying \code{familiarModel} objects. Only used for \code{survival}
outcomes.}
  }}
}
\value{
A list with data.tables for single and ensemble model ROC curve data.
}
\description{
Computes the ROC curve from a \code{familiarEnsemble}.
}
\details{
This function also computes credibility intervals for the ROC curve
for the ensemble model, at the level of \code{confidence_level}. In the case of
multinomial outcomes, an AUC curve is computed per class in a
one-against-all fashion.

To allow plotting of multiple AUC curves in the same plot and the use of
ensemble models, the AUC curve is evaluated at 0.01 (1-specificity) intervals.
}
\keyword{internal}
