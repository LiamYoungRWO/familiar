% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FamiliarCollectionExport.R
\name{export_auc_data}
\alias{export_auc_data}
\alias{export_auc_data,familiarCollection-method}
\alias{export_auc_data,ANY-method}
\title{Extract and export ROC-curves.}
\usage{
export_auc_data(object, dir_path = NULL, export_raw = FALSE, ...)

\S4method{export_auc_data}{familiarCollection}(object, dir_path = NULL, export_raw = FALSE, ...)

\S4method{export_auc_data}{ANY}(object, dir_path = NULL, export_raw = FALSE, ...)
}
\arguments{
\item{object}{A \code{familiarCollection} object, or other other objects from which
a \code{familiarCollection} can be extracted. See details for more information.}

\item{dir_path}{Path to folder where extracted data should be saved. \code{NULL}
will allow export as a structured list of data.tables.}

\item{export_raw}{Allows export of raw data. Only used when exporting model
performance information.}

\item{...}{
  Arguments passed on to \code{\link[=extract_auc_data]{extract_auc_data}}, \code{\link[=as_familiar_collection]{as_familiar_collection}}
  \describe{
    \item{\code{data}}{A \code{dataObject} object, \code{data.table} or \code{data.frame} that
constitutes the data that are used to compute}
    \item{\code{cl}}{Cluster created using the \code{parallel} package. This cluster is then
used to speed up computation through parallelisation.}
    \item{\code{ensemble_method}}{Method for ensembling predictions from models for the
same sample. Available methods are:
\itemize{
\item \code{mean}: Use the mean of the predicted values as the ensemble value for a
sample.
}}
    \item{\code{confidence_level}}{(\emph{optional}) Numeric value for the level at which
confidence intervals are determined. In the case bootstraps are used to
determine the confidence intervals bootstrap estimation, \code{familiar} uses the
rule of thumb \eqn{n = 20 / ci.level} to determine the number of required
bootstraps.

The default value is \code{0.95}.}
    \item{\code{bootstrap_ci_method}}{(\emph{optional}) Method used to determine bootstrap
confidence intervals (Efron and Hastie, 2016). The following methods are
implemented:
\itemize{
\item \code{percentile} (default): Confidence intervals obtained using the percentile method.
\item \code{bc}: Bias-corrected confidence intervals.
}

Note that the standard method is not implemented because this method is
often not suitable due to non-normal distributions. The bias-corrected and
accelerated (BCa) method is not implemented yet.}
    \item{\code{compute_model_data}}{(\emph{optional}) This parameter can be set to enable
computation of data based on individual models. The parameter can take on or
more of the following values: \code{all}, \code{model_performance}, \code{auc_data},
\code{confusion_matrix}, \code{decision_curve_analyis}, \code{permutation_vimp},
\code{performance_data}, as well as \code{true}, \code{false} and \code{none}.

By default, data is computed for the ensemble as a whole, but not for
underlying models.}
    \item{\code{compute_model_ci}}{(\emph{optional}) This parameter can be set to enable
computation of bootstrap confidence intervals for individual models in
several parts of the evaluation. The parameter can take one or more of the
following values: \code{all}, \code{model_performance}, \code{auc_data},
\code{decision_curve_analyis}, \code{permutation_vimp} as well as \code{true}, \code{false} and
\code{none}.

By default, bootstrap confidence intervals are not computed for individual
models. Note that this parameter has no effect unless data is computed for
individual models as well, which is managed by the \code{compute_model_data}
parameter.}
    \item{\code{compute_ensemble_ci}}{(\emph{optional}) This parameter can be set to enable
computation of bootstrap confidence intervals for ensemble models in several
parts of the evaluation. The parameter can take one or more of the following
values: \code{all}, \code{model_performance}, \code{auc_data}, \code{decision_curve_analyis},
\code{permutation_vimp} as well as \code{true}, \code{false} and \code{none}.

By default, bootstrap confidence intervals are computed for ensemble models.}
    \item{\code{aggregate_ci}}{(\emph{optional}) Bootstraps are used to determine confidence
intervals. This information can be stored for export. However, in many cases
this is not necessary, and keeping the bootstrap data can lead to large
\code{familiarData} and \code{familiarCollection} objects. This provides the option to
aggregate the bootstrap data by computing the confidence interval directly.

This parameter can take one or more of the following values: \code{all},
\code{model_performance}, \code{auc_data}, \code{decision_curve_analyis},
\code{permutation_vimp} as well as \code{true}, \code{false} and \code{none}. By default,
bootstrap data is aggregated by computing confidence intervals for
receiver-operating characteristic curves, decision curves and permutation
variable importance.}
    \item{\code{is_pre_processed}}{Flag that indicates whether the data was already
pre-processed externally, e.g. normalised and clustered. Only used if the
\code{data} argument is a \code{data.table} or \code{data.frame}.}
    \item{\code{message_indent}}{Number of indentation steps for messages shown during
computation and extraction of various data elements.}
    \item{\code{verbose}}{Flag to indicate whether feedback should be provided on the
computation and extraction of various data elements.}
    \item{\code{familiar_data_names}}{Names of the dataset(s). Only used if the \code{object} parameter
is one or more \code{familiarData} objects.}
    \item{\code{collection_name}}{Name of the collection.}
  }}
}
\value{
A list of data.tables (if \code{dir_path} is not provided), or nothing, as
all data is exported to \code{csv} files.
}
\description{
Extract and export ROC-curves for models in a familiarCollection.
}
\details{
Data is usually collected from a \code{familiarCollection} object.
However, you can also provide one or more \code{familiarData} objects, that will
be internally converted to a \code{familiarCollection} object. It is also
possible to provide a \code{familiarEnsemble} or one or more \code{familiarModel}
objects together with the data from which data is computed prior to export.
Paths to the previous files can also be provided.

All parameters aside from \code{object} and \code{dir_path} are only used if \code{object}
is not a \code{familiarCollection} object, or a path to one.

ROC curve data are exported for individual and ensemble models. For ensemble
models, a credibility interval for the ROC curve is determined using
bootstrapping for each metric. In case of multinomial outcomes, ROC-curves
are computed for each class, using a one-against-all approach.
}
